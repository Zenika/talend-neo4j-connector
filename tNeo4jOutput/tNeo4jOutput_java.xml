<?xml version="1.0" encoding="UTF-8"?>

<COMPONENT>
  <HEADER AUTHOR="Antoine Rouaze" COMPATIBILITY="ALL" DATA_AUTO_PROPAGATE="false" PLATEFORM="ALL" RELEASE_DATE="20080229A" SERIAL="" STARTABLE="false" STATUS="ALPHA" EXTENSION="org.talend.designer.neo4j" VERSION="0.102" PARTITIONING="AUTO">
    <SIGNATURE/>
  </HEADER>
  <FAMILIES>
    <FAMILY>Databases/Neo4j</FAMILY>
	<FAMILY>Big Data/Neo4j</FAMILY>
  </FAMILIES>
  <DOCUMENTATION>
    <URL/>
  </DOCUMENTATION>
  <CONNECTORS>
    <CONNECTOR CTYPE="FLOW" MAX_INPUT="1" MAX_OUTPUT="1" MIN_INPUT="0" MIN_OUTPUT="0"/>
    <CONNECTOR CTYPE="ITERATE" MAX_OUTPUT="1" MAX_INPUT="1"/>
    <CONNECTOR CTYPE="SUBJOB_OK" MAX_INPUT="1"/>
    <CONNECTOR CTYPE="SUBJOB_ERROR" MAX_INPUT="1"/>
  	<CONNECTOR CTYPE="COMPONENT_OK" MAX_INPUT="0" MAX_OUTPUT="1" MIN_INPUT="0" MIN_OUTPUT="0"/>
  	<CONNECTOR CTYPE="COMPONENT_ERROR" MAX_INPUT="0" MAX_OUTPUT="1" MIN_INPUT="0" MIN_OUTPUT="0"/>
    <CONNECTOR CTYPE="RUN_IF"/>
  </CONNECTORS>
  <PARAMETERS>
    <PARAMETER NAME="USE_EXISTING_CONNECTION" FIELD="CHECK" NUM_ROW="1" GROUP="CONNECTION_GROUP">
    	<DEFAULT>false</DEFAULT>
    </PARAMETER>
	<PARAMETER NAME="CONNECTION" FIELD="COMPONENT_LIST" FILTER="tNeo4jConnection" NUM_ROW="1" SHOW_IF="USE_EXISTING_CONNECTION == 'true'" GROUP="CONNECTION_GROUP"/>
    <PARAMETER NAME="REMOTE_SERVER" FIELD="CHECK" NUM_ROW="2" SHOW_IF="USE_EXISTING_CONNECTION == 'false'" GROUP="CONNECTION_GROUP">
		<DEFAULT>false</DEFAULT>
	</PARAMETER>
	<PARAMETER NAME="DATABASE_PATH" FIELD="DIRECTORY" REQUIRED="true" NUM_ROW="3" SHOW_IF="((USE_EXISTING_CONNECTION == 'false') AND (REMOTE_SERVER == 'false'))" GROUP="CONNECTION_GROUP">
		<DEFAULT>""</DEFAULT>
	</PARAMETER>
	<PARAMETER NAME="SERVER_URL" FIELD="TEXT" REQUIRED="true" NUM_ROW="3" SHOW_IF="((USE_EXISTING_CONNECTION == 'false') AND (REMOTE_SERVER == 'true'))" GROUP="CONNECTION_GROUP">
		<DEFAULT>"http://localhost:7474/db/data"</DEFAULT>
	</PARAMETER>
    <PARAMETER NAME="SHUTDOWN_DB" FIELD="CHECK" NUM_ROW="4" SHOW_IF="USE_EXISTING_CONNECTION == 'true'" GROUP="CONNECTION_GROUP">
    	<DEFAULT>false</DEFAULT>
    </PARAMETER>
    <PARAMETER NAME="DATA_ACTION" FIELD="CLOSED_LIST" NUM_ROW="10">
    	<ITEMS DEFAULT="INSERT">
   			<ITEM NAME="INSERT" VALUE="INSERT"/>
   			<ITEM NAME="INSERT_OR_UPDATE" VALUE="INSERT_OR_UPDATE" SHOW_IF="BATCH_IMPORT == 'false'"/>
   			<ITEM NAME="UPDATE" VALUE="UPDATE" SHOW_IF="BATCH_IMPORT == 'false'"/>
   			<ITEM NAME="DELETE" VALUE="DELETE" SHOW_IF="BATCH_IMPORT == 'false'"/>
    	</ITEMS>
    </PARAMETER>
    <PARAMETER NAME="INDEX_NAME" FIELD="TEST" NUM_ROW="15" SHOW_IF="DATA_ACTION != 'INSERT'" GROUP="INDEX_LOOKUP">
    	<DEFAULT>""</DEFAULT>
    </PARAMETER>
    <PARAMETER NAME="INDEX_KEY" FIELD="TEXT" NUM_ROW="15" SHOW_IF="DATA_ACTION != 'INSERT'" GROUP="INDEX_LOOKUP">
    	<DEFAULT>""</DEFAULT>
    </PARAMETER>
    <PARAMETER NAME="INDEX_VALUE" FIELD="COLUMN_LIST" NUM_ROW="15" SHOW_IF="DATA_ACTION != 'INSERT'" GROUP="INDEX_LOOKUP"/>
    <PARAMETER NAME="SCHEMA" FIELD="SCHEMA_TYPE" NUM_ROW="20">
    	<DEFAULT>""</DEFAULT>
    </PARAMETER>
    <PARAMETER NAME="VALUES" FIELD="TABLE" REQUIRED="true" NUM_ROW="3" NB_LINES="20" SHOW="false">
      <ITEMS BASED_ON_SCHEMA="true">
        <ITEM NAME="AUTO_INDEXED"/>
        <ITEM NAME="INDEX_NAMES"/>
      </ITEMS>
    </PARAMETER>
    <PARAMETER NAME="MAP" FIELD="EXTERNAL" NUM_ROW="7">
      <DEFAULT/>
    </PARAMETER>
	<PARAMETER NAME="INDEXES" FIELD="TABLE" REQUIRED="false" NUM_ROW="20" NB_LINES="6" SHOW="false">
		<ITEMS>
			<ITEM NAME="SCHEMA_COLUMN"/>
			<ITEM NAME="INDEX_NAME"/>
			<ITEM NAME="KEY"/>
			<ITEM NAME="VALUE"/>
			<ITEM NAME="UNIQUE"/>
		</ITEMS>
	</PARAMETER>
	<PARAMETER NAME="RELATIONSHIPS" FIELD="TABLE" REQUIRED="false" NUM_ROW="20" NB_LINES="6" SHOW="false">
		<ITEMS>
			<ITEM NAME="SCHEMA_COLUMN"/>
			<ITEM NAME="TYPE"/>
			<ITEM NAME="DIRECTION"/>
			<ITEM NAME="INDEX_NAME"/>
			<ITEM NAME="KEY"/>
			<ITEM NAME="VALUE"/>
		</ITEMS>
	</PARAMETER>
  </PARAMETERS>
  <ADVANCED_PARAMETERS>
    <PARAMETER NAME="COMMIT_EVERY" FIELD="TEXT" NUM_ROW="1" SHOW_IF="BATCH_IMPORT == 'false'">
    	<DEFAULT>"30000"</DEFAULT>
    </PARAMETER>
    <PARAMETER NAME="BATCH_IMPORT" FIELD="CHECK" NUM_ROW="2" GROUP="BATCH_OPTION">
    	<DEFAULT>false</DEFAULT>
    </PARAMETER>
    <PARAMETER NAME="BATCH_INFORMATION_1" FIELD="LABEL" NUM_ROW="4" GROUP="BATCH_OPTION">
    	<DEFAULT>Be careful with batch importer. For more informations refer to documentation.</DEFAULT>
    </PARAMETER>
    <PARAMETER NAME="BATCH_INFORMATION_2" FIELD="LABEL" NUM_ROW="5" GROUP="BATCH_OPTION">
    	<DEFAULT>Never stop job during the importation. Some data files could be corrupted. MAKE BACKUP !!!</DEFAULT>
    </PARAMETER>
    <PARAMETER NAME="NODE_MAPPED_MEMORY" FIELD="TEXT" NUM_ROW="6" SHOW_IF="BATCH_IMPORT == 'true'" GROUP="BATCH_OPTION">
    	<DEFAULT>"90M"</DEFAULT>
    </PARAMETER>
    <PARAMETER NAME="RELATIONSHIP_MAPPED_MEMORY" FIELD="TEXT" NUM_ROW="7" SHOW_IF="BATCH_IMPORT == 'true'" GROUP="BATCH_OPTION">
    	<DEFAULT>"300M"</DEFAULT>
    </PARAMETER>
    <PARAMETER NAME="PROPERTY_MAPPED_MEMORY" FIELD="TEXT" NUM_ROW="8" SHOW_IF="BATCH_IMPORT == 'true'" GROUP="BATCH_OPTION">
    	<DEFAULT>"50M"</DEFAULT>
    </PARAMETER>
    <PARAMETER NAME="STRINGS_MAPPED_MEMORY" FIELD="TEXT" NUM_ROW="9" SHOW_IF="BATCH_IMPORT == 'true'" GROUP="BATCH_OPTION">
    	<DEFAULT>"100M"</DEFAULT>
    </PARAMETER>
    <PARAMETER NAME="ARRAYS_MAPPED_MEMORY" FIELD="TExt" NUM_ROW="10" SHOW_IF="BATCH_IMPORT == 'true'" GROUP="BATCH_OPTION">
    	<DEFAULT>"0M"</DEFAULT>
    </PARAMETER>
  </ADVANCED_PARAMETERS>
  <CODEGENERATION>
    <IMPORTS>
      <IMPORT MODULE="concurrentlinkedhashmap-lru-1.3.1.jar" NAME="concurrentlinkedhashmap-lru-1.3.1" REQUIRED="true"/>
      <IMPORT MODULE="geronimo-jta_1.1_spec-1.1.1.jar" NAME="geronimo-jta_1.1_spec-1.1.1" REQUIRED="true"/>
      <IMPORT MODULE="lucene-core-3.5.0.jar" NAME="lucene-core-3.5.0" REQUIRED="true"/>
      <IMPORT MODULE="neo4j-cypher-1.9.M01.jar" NAME="neo4j-cypher-1.9.M01" REQUIRED="true"/>
      <IMPORT MODULE="neo4j-graph-algo-1.9.M01.jar" NAME="neo4j-graph-algo-1.9.M01" REQUIRED="true"/>
      <IMPORT MODULE="neo4j-graph-matching-1.9.M01.jar" NAME="neo4j-graph-matching-1.9.M01" REQUIRED="true"/>
      <IMPORT MODULE="neo4j-jmx-1.9.M01.jar" NAME="neo4j-jmx-1.9.M01" REQUIRED="true"/>
      <IMPORT MODULE="neo4j-kernel-1.9.M01.jar" NAME="neo4j-kernel-1.9.M01" REQUIRED="true"/>
      <IMPORT MODULE="neo4j-lucene-index-1.9.M01.jar" NAME="neo4j-lucene-index-1.9.M01" REQUIRED="true"/>
      <IMPORT MODULE="neo4j-shell-1.9.M01.jar" NAME="neo4j-shell-1.9.M01" REQUIRED="true"/>
      <IMPORT MODULE="neo4j-udc-1.9.M01.jar" NAME="neo4j-udc-1.9.M01" REQUIRED="true"/>
      <IMPORT MODULE="org.apache.servicemix.bundles.jline-0.9.94_1.jar" NAME="org.apache.servicemix.bundles.jline-0.9.94_1" REQUIRED="true"/>
      <IMPORT MODULE="scala-library-2.9.1-1.jar" NAME="scala-library-2.9.1-1" REQUIRED="true"/>
      <IMPORT MODULE="server-api-1.9.M01.jar" NAME="server-api-1.9.M01" REQUIRED="true"/>
      <IMPORT MODULE="neo4j-rest-graphdb-1.8.1.jar" NAME="neo4j-rest-graphdb-1.8.1.jar" REQUIRED="true"/>
      <IMPORT MODULE="jsr311-api-1.1.2.r612.jar" NAME="jsr311-api-1.1.2.r612" REQUIRED="true"/>
	  <IMPORT MODULE="jersey-core-1.4.jar" UrlPath="platform:/plugin/org.talend.libraries.jersey/lib/jersey-core-1.4.jar" NAME="jersey-core-1.4" REQUIRED="true"/>
      <IMPORT MODULE="jersey-client-1.4.jar" UrlPath="platform:/plugin/org.talend.libraries.jersey/lib/jersey-client-1.4.jar" NAME="jersey-client-1.4" REQUIRED="true"/>
	  <IMPORT MODULE="jackson-mapper-asl-1.9.7.jar" NAME="jackson-mapper-asl-1.9.7" REQUIRED="true"/>
	  <IMPORT MODULE="jackson-jaxrs-1.9.7.jar" NAME="jackson-jaxrs-1.9.7" REQUIRED="true"/>
	  <IMPORT MODULE="jackson-core-asl-1.9.7.jar" NAME="jackson-core-asl-1.9.7" REQUIRED="true"/>
    </IMPORTS>
  </CODEGENERATION>
  <RETURNS>
    <RETURN AVAILABILITY="AFTER" NAME="NB_LINE" TYPE="id_Integer"/>
  </RETURNS>
</COMPONENT>
